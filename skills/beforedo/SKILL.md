---
name: beforedo
description: 计划优先、确认后执行的工作流。用户要求先给 plan 再执行、或需要确认后才动手时使用。要求三段式回应（当下计划、LLM 意见/看法、需要确认的模糊点），循环澄清后给最终计划并请求确认，只有明确确认后才执行。
---

# beforedo 技能

## 适用范围
- 仅在用户明确要求“先计划、确认后执行”时使用。
- 不包含项目私有需求或业务实现细节。

## 核心流程
1. 判断是否已了解项目上下文。
   - 不了解：快速获取最小上下文。
   - 已了解：不要重复扫描项目。
2. 输出三段式回应：
   - **当下计划**：精炼的实现步骤。
   - **LLM 的意见/看法**：风险、权衡或替代方案（如有）。
   - **需要确认的模糊点**：必须澄清的问题。
3. 如有模糊点：等待用户回答后回到第 2 步。
4. 当没有模糊点：
   - 再次给出最终计划。
   - 请求用户确认执行（见确认话术）。
5. 只有在用户明确确认后才执行，否则继续停留在计划阶段。

## 输出模板（计划阶段）
- 当下计划:
  - 步骤 1
  - 步骤 2
  - 步骤 3
- LLM 的意见/看法:
  - 风险/权衡/替代方案（如有）
- 需要确认的模糊点:
  - 问题 1
  - 问题 2

## 输出模板（最终确认）
- 最终计划:
  - 步骤 1
  - 步骤 2
  - 步骤 3
- 确认执行:
  - 没问题请回复“确认执行”（或等价表达）以开始；如有问题请指出，我会回到计划阶段。

## 示例
见 `references/examples.md`。
